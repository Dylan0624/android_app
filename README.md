# Point Cloud Viewer

基於 Android OpenGL 的即時 3D 點雲視覺化應用程式，提供流暢的 LiDAR 點雲數據模擬與互動式顯示功能。

## 功能特色

- 即時 3D 點雲視覺化與渲染
- 模擬 16 線 LiDAR 感測器數據生成
- 互動式 3D 視角控制：
    - 雙指縮放（放大/縮小）
    - 單指拖曳（旋轉視角）
    - 雙擊重置視圖
- 可切換座標軸顯示
- 支援高達 85 萬個點的即時渲染
- 灰階強度視覺化
- 流暢的點雲更新（約 30 FPS）
- 效能優化的漸進式點雲載入

## 技術規格

### 點雲生成
- 模擬 16 線 LiDAR 感測器特性
- 生成點雲數據屬性：
    - XYZ 三維座標
    - 強度值範圍：128-255
    - 垂直角度範圍：-15° 至 15°
    - 水平角度範圍：0° 至 360°
- 每次更新 85 萬個點
- 最大點雲容量：85 萬點

### 渲染技術
- OpenGL ES 2.0 架構
- 自定義著色器程序：
    - 頂點著色器：支援 MVP 矩陣變換
    - 片段著色器：灰階強度視覺化
- 高效能點雲渲染
- 座標軸視覺化系統

### 效能優化
- 高效率的頂點緩衝區管理
- 優化的矩陣運算
- 背景執行緒點雲生成
- 高效能的記憶體管理

## 系統需求

- Android 4.4 (API level 19) 或更高版本
- 支援 OpenGL ES 2.0 的設備
- 觸控螢幕支援
- 建議至少 2GB RAM

## 專案結構

```
app/
├── src/
│   ├── main/
│   │   ├── java/com/example/pointcloudviewer/
│   │   │   ├── MainActivity.kt         # 主要活動與使用者互動
│   │   │   ├── PointCloudRenderer.kt   # OpenGL 渲染實作
│   │   │   └── LidarPoint.kt          # 點雲數據模型
│   │   └── res/
│   │       └── layout/
│   │           └── activity_main.xml   # 主要介面布局
├── build.gradle
└── README.md
```

## 使用說明

### 基本操作
1. 啟動應用程式
2. 等待點雲開始載入（約 2 秒）
3. 使用手勢控制視角：
    - 單指拖曳：旋轉視圖
    - 雙指縮放：調整大小
    - 雙擊：重置視圖
4. 使用介面按鈕：
    - 「座標軸」：切換座標軸顯示
    - 「重置視圖」：重置視角位置

### 性能注意事項
- 應用程式運行時會持續更新點雲
- 每次更新約 85 萬個點
- 目標幀率為 30 FPS
- 暫停應用程式會停止點雲更新
- 恢復應用程式會在 2 秒後重新開始更新

## 開發環境設置

1. 複製專案儲存庫
```bash
git clone <repository-url>
```

2. 使用 Android Studio 開啟專案

3. 確認開發環境需求：
    - Android Studio Arctic Fox 或更新版本
    - Android SDK Platform 19 或更高版本
    - Android Build Tools 30.0.3 或更新版本

4. 建置與運行：
    - 選擇支援 OpenGL ES 2.0 的目標設備
    - 點擊「Run」執行應用程式

## 相依套件

- AndroidX Core KTX
- AndroidX AppCompat
- Android OpenGL ES API
- Kotlin Standard Library

## 疑難排解

### 常見問題
1. 畫面空白或無法顯示點雲
    - 確認設備支援 OpenGL ES 2.0
    - 檢查是否有足夠的系統資源

2. 效能問題
    - 確認設備記憶體使用狀況
    - 檢查背景程式使用狀況
    - 考慮降低點雲更新頻率

### 錯誤報告
如遇到問題，請提供以下資訊：
- 設備型號與 Android 版本
- 錯誤發生時的操作步驟
- Logcat 錯誤訊息

## 貢獻指南

1. Fork 專案儲存庫
2. 建立功能分支
3. 提交更改
4. 推送至分支
5. 建立新的 Pull Request

## 授權條款

本專案採用 MIT 授權條款 - 詳見 LICENSE 檔案

## 作者

[Dylan_Lin/PEGA]

## 更新記錄

### 1.0.0 (2024-02-24)
- 初始版本發布
- 基本點雲視覺化功能
- 互動式控制實作
- 效能優化